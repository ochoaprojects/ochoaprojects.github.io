<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="How to use Sony Remote Play on Linux" /><meta property="og:locale" content="en" /><meta name="description" content="Chiaki is a Free and Open Source Software Client for PlayStation 4 and PlayStation 5 Remote Play for Linux, FreeBSD, OpenBSD, Android, macOS, Windows, Nintendo Switch and potentially even more platforms." /><meta property="og:description" content="Chiaki is a Free and Open Source Software Client for PlayStation 4 and PlayStation 5 Remote Play for Linux, FreeBSD, OpenBSD, Android, macOS, Windows, Nintendo Switch and potentially even more platforms." /><link rel="canonical" href="https://ochoaprojects.github.io/posts/SonyRemotePlayOnLinux/" /><meta property="og:url" content="https://ochoaprojects.github.io/posts/SonyRemotePlayOnLinux/" /><meta property="og:site_name" content="OchoaProjects" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-05-31T10:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="How to use Sony Remote Play on Linux" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-23T21:47:59-07:00","datePublished":"2022-05-31T10:00:00-07:00","description":"Chiaki is a Free and Open Source Software Client for PlayStation 4 and PlayStation 5 Remote Play for Linux, FreeBSD, OpenBSD, Android, macOS, Windows, Nintendo Switch and potentially even more platforms.","headline":"How to use Sony Remote Play on Linux","mainEntityOfPage":{"@type":"WebPage","@id":"https://ochoaprojects.github.io/posts/SonyRemotePlayOnLinux/"},"url":"https://ochoaprojects.github.io/posts/SonyRemotePlayOnLinux/"}</script><title>How to use Sony Remote Play on Linux | OchoaProjects</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="OchoaProjects"><meta name="application-name" content="OchoaProjects"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/project-assets/Brandon-Ochoa-Github.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">OchoaProjects</a></div><div class="site-subtitle font-italic">A place where I post my projects and things that I am learning or working on.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ochoaprojects" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/brandon-ochoa/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.youtube.com/@ochoaprojects9930" aria-label="youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['brandon','ochoaprojects.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>How to use Sony Remote Play on Linux</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>How to use Sony Remote Play on Linux</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1654016400" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 31, 2022 </em> </span> <span> Updated <em class="" data-ts="1656046079" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 23, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/ochoaprojects">Brandon Ochoa</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="872 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><p>Chiaki is a Free and Open Source Software Client for PlayStation 4 and PlayStation 5 Remote Play for Linux, FreeBSD, OpenBSD, Android, macOS, Windows, Nintendo Switch and potentially even more platforms.</p><h1 id="installing">Installing</h1><p>You can either download a pre-built release or build Chiaki from source. This download will be for the remote device you want to stream to.</p><h1 id="usage">Usage</h1><p>If your Console is on your local network, is turned on or in standby mode and does not have Discovery explicitly disabled, Chiaki should find it. Otherwise, you can add it manually. To do so, click the “+” icon in the top right, and enter your Console’s IP address.</p><p>You will then need to register your Console with Chiaki. You will need two more pieces of information to do this.</p><h1 id="obtaining-your-psn-accountid">Obtaining your PSN AccountID</h1><p>Starting with PS4 7.0, it is necessary to use a so-called “AccountID” as opposed to the “Online-ID” for registration (streaming itself did not change). This ID seems to be a unique identifier for a PSN Account and it can be obtained from the PSN after logging in using OAuth. A Python 3 script that does this is provided at <a href="/project-assets/SonyRemotePlayOnLinux/python/psn-account-id.py">psn-account-id.py</a> or can be copied from below. Simply run it in a terminal and follow the instructions. Once you know your ID, write it down. You will likely never have to do this process again.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
</pre><td class="rouge-code"><pre><span class="c1">#!/usr/bin/env python3
# -*- coding: utf-8 -*-
</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="n">sys</span><span class="p">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
	<span class="k">print</span><span class="p">(</span><span class="s">"DO NOT use Python 2.</span><span class="se">\n</span><span class="s">EVER.</span><span class="se">\n</span><span class="s">https://pythonclock.org"</span><span class="p">)</span>
	<span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">platform</span>
<span class="n">oldexit</span> <span class="o">=</span> <span class="nb">exit</span>
<span class="k">def</span> <span class="nf">exit</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
	<span class="k">if</span> <span class="n">platform</span><span class="p">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s">"Windows"</span><span class="p">:</span>
		<span class="kn">import</span> <span class="nn">atexit</span>
		<span class="nb">input</span><span class="p">(</span><span class="s">"Press Enter to exit."</span><span class="p">)</span>
	<span class="n">oldexit</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

<span class="k">if</span> <span class="n">sys</span><span class="p">.</span><span class="n">stdout</span><span class="p">.</span><span class="n">encoding</span><span class="p">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s">"ascii"</span><span class="p">:</span>
	<span class="kn">import</span> <span class="nn">codecs</span>
	<span class="n">sys</span><span class="p">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">codecs</span><span class="p">.</span><span class="n">getwriter</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)(</span><span class="n">sys</span><span class="p">.</span><span class="n">stdout</span><span class="p">.</span><span class="nb">buffer</span><span class="p">)</span>
	<span class="n">sys</span><span class="p">.</span><span class="n">stderr</span> <span class="o">=</span> <span class="n">codecs</span><span class="p">.</span><span class="n">getwriter</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)(</span><span class="n">sys</span><span class="p">.</span><span class="n">stderr</span><span class="p">.</span><span class="nb">buffer</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
	<span class="kn">import</span> <span class="nn">requests</span>
<span class="k">except</span> <span class="nb">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
	<span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">platform</span><span class="p">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s">"Windows"</span><span class="p">:</span>
		<span class="kn">from</span> <span class="nn">distutils.util</span> <span class="kn">import</span> <span class="n">strtobool</span>
		<span class="n">a</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"The requests module is not available. Should we try to install it automatically using pip? [y/n] "</span><span class="p">)</span>
		<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
			<span class="k">try</span><span class="p">:</span>
				<span class="n">a</span> <span class="o">=</span> <span class="n">strtobool</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
				<span class="k">break</span>
			<span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
				<span class="n">a</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"Please answer with y or n: "</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
			<span class="kn">import</span> <span class="nn">subprocess</span>
			<span class="n">subprocess</span><span class="p">.</span><span class="n">call</span><span class="p">([</span><span class="n">sys</span><span class="p">.</span><span class="n">executable</span><span class="p">,</span> <span class="s">"-m"</span><span class="p">,</span> <span class="s">"pip"</span><span class="p">,</span> <span class="s">"install"</span><span class="p">,</span> <span class="s">"requests"</span><span class="p">])</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\"</span><span class="s">requests</span><span class="se">\"</span><span class="s"> is not available. Install it with pip or your distribution's package manager."</span><span class="p">)</span>
		<span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">requests</span>

<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlparse</span><span class="p">,</span> <span class="n">parse_qs</span><span class="p">,</span> <span class="n">quote</span><span class="p">,</span> <span class="n">urljoin</span>
<span class="kn">import</span> <span class="nn">pprint</span>
<span class="kn">import</span> <span class="nn">base64</span>

<span class="c1"># Remote Play Windows Client
</span><span class="n">CLIENT_ID</span> <span class="o">=</span> <span class="s">"ba495a24-818c-472b-b12d-ff231c1b5745"</span>
<span class="n">CLIENT_SECRET</span> <span class="o">=</span> <span class="s">"mvaiZkRsAsI1IBkY"</span>

<span class="n">LOGIN_URL</span> <span class="o">=</span> <span class="s">"https://auth.api.sonyentertainmentnetwork.com/2.0/oauth/authorize?service_entity=urn:service-entity:psn&amp;response_type=code&amp;client_id={}&amp;redirect_uri=https://remoteplay.dl.playstation.net/remoteplay/redirect&amp;scope=psn:clientapp&amp;request_locale=en_US&amp;ui=pr&amp;service_logo=ps&amp;layout_type=popup&amp;smcid=remoteplay&amp;prompt=always&amp;PlatformPrivacyWs1=minimal&amp;"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">CLIENT_ID</span><span class="p">)</span>
<span class="n">TOKEN_URL</span> <span class="o">=</span> <span class="s">"https://auth.api.sonyentertainmentnetwork.com/2.0/oauth/token"</span>

<span class="k">print</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"########################################################"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"           Script to determine PSN AccountID"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"                  thanks to grill2010"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"     (This script will perform network operations.)"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"########################################################"</span><span class="p">)</span>
<span class="k">print</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"➡️  Open the following URL in your Browser and log in:"</span><span class="p">)</span>
<span class="k">print</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">LOGIN_URL</span><span class="p">)</span>
<span class="k">print</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"➡️  After logging in, when the page shows </span><span class="se">\"</span><span class="s">redirect</span><span class="se">\"</span><span class="s">, copy the URL from the address bar and paste it here:"</span><span class="p">)</span>
<span class="n">code_url_s</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"&gt; "</span><span class="p">)</span>
<span class="n">code_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">code_url_s</span><span class="p">)</span>
<span class="n">query</span> <span class="o">=</span> <span class="n">parse_qs</span><span class="p">(</span><span class="n">code_url</span><span class="p">.</span><span class="n">query</span><span class="p">)</span>
<span class="k">if</span> <span class="s">"code"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">query</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">query</span><span class="p">[</span><span class="s">"code"</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">query</span><span class="p">[</span><span class="s">"code"</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
	<span class="k">print</span><span class="p">(</span><span class="s">"☠️  URL did not contain code parameter"</span><span class="p">)</span>
	<span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">code</span> <span class="o">=</span> <span class="n">query</span><span class="p">[</span><span class="s">"code"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="s">"🌏 Requesting OAuth Token"</span><span class="p">)</span> 

<span class="n">api_auth</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">auth</span><span class="p">.</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="n">CLIENT_ID</span><span class="p">,</span> <span class="n">CLIENT_SECRET</span><span class="p">)</span>
<span class="n">body</span> <span class="o">=</span> <span class="s">"grant_type=authorization_code&amp;code={}&amp;redirect_uri=https://remoteplay.dl.playstation.net/remoteplay/redirect&amp;"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

<span class="n">token_request</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">TOKEN_URL</span><span class="p">,</span>
	<span class="n">auth</span> <span class="o">=</span> <span class="n">api_auth</span><span class="p">,</span>
	<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span> <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/x-www-form-urlencoded"</span> <span class="p">},</span>
	<span class="n">data</span> <span class="o">=</span> <span class="n">body</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"ascii"</span><span class="p">))</span>

<span class="k">print</span><span class="p">(</span><span class="s">"⚠️  WARNING: From this point on, output might contain sensitive information in some cases!"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">token_request</span><span class="p">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
	<span class="k">print</span><span class="p">(</span><span class="s">"☠️  Request failed with code {}:</span><span class="se">\n</span><span class="s">{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">token_request</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">token_request</span><span class="p">.</span><span class="n">text</span><span class="p">))</span>
	<span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">token_json</span> <span class="o">=</span> <span class="n">token_request</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
<span class="k">if</span> <span class="s">"access_token"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">token_json</span><span class="p">:</span>
	<span class="k">print</span><span class="p">(</span><span class="s">"☠️  </span><span class="se">\"</span><span class="s">access_token</span><span class="se">\"</span><span class="s"> is missing in response JSON:</span><span class="se">\n</span><span class="s">{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">token_request</span><span class="p">.</span><span class="n">text</span><span class="p">))</span>
	<span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">token_json</span><span class="p">[</span><span class="s">"access_token"</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="s">"🌏 Requesting Account Info"</span><span class="p">)</span>

<span class="n">account_request</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">TOKEN_URL</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">quote</span><span class="p">(</span><span class="n">token</span><span class="p">),</span> <span class="n">auth</span> <span class="o">=</span> <span class="n">api_auth</span><span class="p">)</span>

<span class="k">if</span> <span class="n">account_request</span><span class="p">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
	<span class="k">print</span><span class="p">(</span><span class="s">"☠️  Request failed with code {}:</span><span class="se">\n</span><span class="s">{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">account_request</span><span class="p">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">account_request</span><span class="p">.</span><span class="n">text</span><span class="p">))</span>
	<span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">account_info</span> <span class="o">=</span> <span class="n">account_request</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"🥦 Received Account Info:"</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">account_info</span><span class="p">)</span>

<span class="k">if</span> <span class="s">"user_id"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">account_info</span><span class="p">:</span>
	<span class="k">print</span><span class="p">(</span><span class="s">"☠️  </span><span class="se">\"</span><span class="s">user_id</span><span class="se">\"</span><span class="s"> is missing in response or not a string"</span><span class="p">)</span>
	<span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">user_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">account_info</span><span class="p">[</span><span class="s">"user_id"</span><span class="p">])</span>
<span class="n">user_id_base64</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">user_id</span><span class="p">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="s">"little"</span><span class="p">)).</span><span class="n">decode</span><span class="p">()</span>

<span class="k">print</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"🍙 This is your AccountID:"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">user_id_base64</span><span class="p">)</span>
<span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></table></code></div></div><p>1. <img data-src="/project-assets/SonyRemotePlayOnLinux/FirstPromptOfPyScript.png" alt="First Prompt of PyScript" data-proofer-ignore> Run the Python Script in a Terminal.</p><blockquote class="prompt-tip"><div><p>Note I’m using Visual Studio Code to run this, so I am able to click the link directly from the terminal to visit the necessary page.</p></div></blockquote><p>2. <img data-src="/project-assets/SonyRemotePlayOnLinux/SonySignIn.png" alt="Sony Sign In" data-proofer-ignore> Sign into your Sony Playstation Account.</p><p>3. <img data-src="/project-assets/SonyRemotePlayOnLinux/OutputFromReditedURL.png" alt="Output from Redirected URL" data-proofer-ignore> Paste the URL you had after the “Redirect” back into the temrinal with the Python Script. This will output information for the account you signed into, including the “AccountID” that we need for connecting Chiaki.</p><h1 id="obtaining-a-registration-pin">Obtaining a Registration PIN</h1><p>To register a Console with a PIN, it must be put into registration mode. To do this on a PS4, simply go to: Settings -&gt; Remote Play -&gt; Add Device, or on a PS5: Settings -&gt; System -&gt; Remote Play -&gt; Link Device.</p><p>You can now double-click your Console in Chiaki’s main window to start Remote Play.</p><p><img data-src="/project-assets/SonyRemotePlayOnLinux/steamdeck-remoteplay.jpg" alt="Steam Deck Remote Play" data-proofer-ignore></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a>, <a href='/categories/python/'>Python</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/sony/" class="post-tag no-text-decoration" >sony</a> <a href="/tags/playstation/" class="post-tag no-text-decoration" >playstation</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/chiaki/" class="post-tag no-text-decoration" >chiaki</a> <a href="/tags/psn/" class="post-tag no-text-decoration" >psn</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=How+to+use+Sony+Remote+Play+on+Linux+-+OchoaProjects&url=https%3A%2F%2Fochoaprojects.github.io%2Fposts%2FSonyRemotePlayOnLinux%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=How+to+use+Sony+Remote+Play+on+Linux+-+OchoaProjects&u=https%3A%2F%2Fochoaprojects.github.io%2Fposts%2FSonyRemotePlayOnLinux%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fochoaprojects.github.io%2Fposts%2FSonyRemotePlayOnLinux%2F&text=How+to+use+Sony+Remote+Play+on+Linux+-+OchoaProjects" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/ProxMoxSetupInstall/">ProxMox Setup and Installation</a><li><a href="/posts/AboutMeAndTopology/">About Me and Homelab Topology</a><li><a href="/posts/PlexAutomation/">Plex Automation</a><li><a href="/posts/ProxMoxCloudInitImage/">Create a Debian Cloud-Init Template on Proxmox</a><li><a href="/posts/ProvisionDockerWithAnsible/">Provision a Linux Server With Docker Using Ansible</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/proxmox/">proxmox</a> <a class="post-tag" href="/tags/terraform/">terraform</a> <a class="post-tag" href="/tags/cloudinit/">cloudinit</a> <a class="post-tag" href="/tags/containers/">containers</a> <a class="post-tag" href="/tags/ec2/">ec2</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a></div></div></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/UsingAWSLambdaWithAPIGateway/"><div class="card-body"> <em class="small" data-ts="1658768400" data-df="ll" > Jul 25, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Using AWS Lambda and API Gateway to Check URLs</h3><div class="text-muted small"><p> Using AWS Lambda Python functions and an API Gateway to deploy a URL Checker that looks for known malicious websites all while being serveless through Amazon Web Services. Table of Contents Ov...</p></div></div></a></div><div class="card"> <a href="/posts/FlaskAppWithSimpleSearch/"><div class="card-body"> <em class="small" data-ts="1671555600" data-df="ll" > Dec 20, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Building a Search Feature in a Python Flask App</h3><div class="text-muted small"><p> Going through the steps on how to build a search feature in a Python Flask app. Flask is a popular microweb framework that makes it easy to build web applications in Python. We will use Jinja2 temp...</p></div></div></a></div><div class="card"> <a href="/posts/ProvisionDockerWithAnsible/"><div class="card-body"> <em class="small" data-ts="1655053200" data-df="ll" > Jun 12, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Provision a Linux Server With Docker Using Ansible</h3><div class="text-muted small"><p> Using Ansible to provision remote servers with Docker and Docker-compose. Table of Contents Prerequisites Structure Files provisioning/hosts.yml provisioning/site.yml ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"><div class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></div><a href="/posts/ProxMoxCloudInitImage/" class="btn btn-outline-primary" prompt="Newer"><p>Create a Debian Cloud-Init Template on Proxmox</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ochoaprojects">Brandon Ochoa</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> hosted on Github</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/proxmox/">proxmox</a> <a class="post-tag" href="/tags/terraform/">terraform</a> <a class="post-tag" href="/tags/cloudinit/">cloudinit</a> <a class="post-tag" href="/tags/containers/">containers</a> <a class="post-tag" href="/tags/ec2/">ec2</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
